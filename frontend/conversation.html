<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatOQP - Conversation</title>
    <link rel="icon" href="./images/icons/icon.ico" type="image/x-icon">
    <script type="module" src="./scripts/fonctions.js"></script>
    <script type="module" src="./scripts/conversation.js"></script>
    <link  href="./images/icons/envoyer-un-mail.png">
    <link rel="stylesheet" href="./styles/conversation.css">
    <link rel="stylesheet" href="./styles/style.css">
</head>

<body>
    <div id="navigation">
        <div id="div_menu">
            <h1>ChatOQP</h1>
            <h2>Bonjour <span id="username"></span> !</h2>
            <button class="NavButton" id="accueilButton" onclick="goToAccueil()">Chat général</button>
            <button class="NavButton active" id="chatPriveButton" onclick="goToConversation()">Conversations privées</button>
        </div>

        <div id="div_user_list">
            <h2>Contacts :</h2> 
            <ul id="user_list"></ul>
        </div>

        <div id="div_stats">
            <h2>Statistiques :</h2>
            <p class="stat-name">Utilisateur envoyant le plus de message :</p>
            <p class="stat-value"><span id="best_sender_username"></span> (<span id="best_sender_count"></span> messages envoyés)</p>
            <p class="stat-name">Utilisateur recevant le plus de message :</p>
            <p class="stat-value"><span id="best_reciever_username"></span> (<span id="best_reciever_count"></span> messages reçus)</p>
        </div>

        <button id="decoButton" onclick="deconnexion()">Déconnexion</button>
    </div>

    <div id="container">
        <div id="chat">
            <h2 id="contact-name"></h2>
            <ul id="message_list"></ul>
        </div>
    
        <div id="sendMessage">
            <form id = "Form" onsubmit="envoyer(event, 'conversation')">
                <input type="text" placeholder="Message" required name="message" id="message"/>
                <input type="submit" id="submit" value="Envoyer" />
            </form>
        </div>
    </div>
</body>
</html>